/*! 
* notific - v0.1.1 - 2015-07-30
* https://github.com/gbiryukov/notific
* Copyright (c) 2015 George Biryukov
* Licensed MIT 
*/

define(["jquery"],function(a){"use strict";var b={_default:{title:"Notification",text:"",type:"default",timeout:5e3},_params:{css:{body:"body",container:"notific",top:"notific_top",bottom:"notific_bottom",notification:"notific__alert","default":"notific__alert_info",error:"notific__alert_danger",success:"notific__alert_success",warning:"notific__alert_warning",title:"notific__title",text:"notific__text",close:"notific__close"},width:360,position:"bottom",bootstrap:!1},_types:{"default":!0,error:!0,success:!0,warning:!0},_init:function(){this._params.bootstrap&&this._styleBootstrap();var b=this,c=this._params.css[this._params.position],d=a("<div>",{"class":this._params.css.container});return d.addClass(c).css("width",this._params.width),a(this._params.css.body).append(d),d.on("click","."+this._params.css.close,function(){var c=a(this).closest("."+b._params.css.notification);b.close(c)}),d},_verifyNotificationType:function(a){return this._types.hasOwnProperty(a)?a:"default"},_scrollToBottom:function(a){a.stop().animate({scrollTop:a.prop("scrollHeight")},300)},_styleBootstrap:function(){this.config({css:{notification:"alert","default":"alert-info",error:"alert-danger",success:"alert-success",warning:"alert-warning",close:"close"}})},config:function(b){a.extend(!0,this._params,b)},show:function(b){var c=a("."+this._params.css.container);0===c.length&&(b.hasOwnProperty("position")&&(this._params.position=b.position),c=this._init());var d={};a.extend(d,this._default,b),d.type=this._verifyNotificationType(d.type);var e=a('<div class="'+this._params.css.notification+" "+this._params.css[d.type]+'"><button type="button" class="'+this._params.css.close+'">&times;</button><h4 class="'+this._params.css.title+'">'+d.title+'</h4><p class="'+this._params.css.text+'">'+d.text+"</p></div>");if(c.append(e),this._scrollToBottom(c),d.timeout){var f=this;setTimeout(function(){f.close(e)},d.timeout)}return e},error:function(b){return this.show(a.extend(b,{type:"error"}))},success:function(b){return this.show(a.extend(b,{type:"success"}))},warning:function(b){return this.show(a.extend(b,{type:"warning"}))},close:function(a){a.remove()}};return b});